# Космический телеграм
Проект представляет собой программу для загрузки фотографий космоса с сайтов SpaceX и NASA, а также автоматического постинга этих фотографий в телеграм-канал.

### Как установить

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
Рекомендуем установить (https://pythonru.com/baza-znanij/virtualenv-python "виртуальное окружение") и работать с ним.
Далее следует загрузить фотографии космоса и настроить телеграм-бота.

#### Загрузка фотографий космоса
Для загрузки фотографий Вам потребуется токен API NASA. Чтобы его получить, перейдите по [ссылке](https://api.nasa.gov/) и введите Ваши имя, фамилию и электронный адрес, после чего токен будет выслан на Вашу почту.
Далее создайте в папке проекта файл .env и добавьте в нём строчку:
```
NASA_API_KEY=<ПОЛУЧЕННЫЙ ВАМИ API-токен>
```
Теперь Вы можете загрузить фотографии, для этого перейдите в папку проекта и выполните команду:
```
python3 photo_loader.py
```
Через несколько минут фотографии будут сохранены в папки apod, epic и spacex. В папке APOD будут различные красивые фотографии космоса (каждый день - разные), в папке EPIC - фотографии Земли, в папке spacex - фотографии с запусков ракет SpaceX

#### Настройка канала и  бота
Затем создайте телеграм-канал, в который Вы будете постить фотографии космоса. 
Добавьте в файл .env строчку
```
CHANNEL_NAME=<Ссылка на Ваш канал>
```
Например, если ссылка на Ваш канал - @space_telegram, нужно написать
```
CHANNEL_NAME=@space_telegram
```
Для автоматизации постинга фотографий в канал создаём бота c помощью [этой](https://botcreators.ru/blog/botfather-instrukciya/) инструкции.  Полученный от BotFather токен добавляем в .env:
```
BOT_TOKEN=<Токен бота>
```
Созданного бота нужно сделать администратором Вашего канала с предоставлением ему прав постинга в канал.

#### Запуск скрипта
Теперь можно запустить постинг фотографий:
```
python3 main.py
```
Рекомендуем сделать это на выделенном сервере, так как по умолчанию бот будет выкладывать по одной фотографии в сутки.

#### Настройка частоты постинга фотографий
Если Вы хотите, чтобы фотографии выкладывались чаще, добавьте в .env следующую строчку:

```
DELAY=<частота постинга>
```
Частота постинга состоит из числа и единицы измерения (s - секунды, h - часы, d - дни). Например, 30s (фотографии будут выкладываться каждые 30 секунд), 2h (каждые 2 часа), 3d (каждые 3 дня).
Если Вы неправильно укажете частоту постинга, фотографии будут выкладываться раз в сутки.

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
